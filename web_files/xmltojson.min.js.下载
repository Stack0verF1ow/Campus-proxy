var xmlToJSON=function(){var m={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:"_ns",textKey:"_text",valueKey:"_value",attrKey:"",cdataKey:"_cdata",attrsAsObject:!(this.version="1.3"),stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!1},h=new RegExp(/(?!xmlns)^.*:/),f=new RegExp(/^\s+|\s+$/g);return this.grokType=function(e){return/^\s*$/.test(e)?""==e?"":null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():e},this.parseString=function(e,r){return this.parseXML(this.stringToXML(e),r)},this.parseXML=function(e,r){if(!e)return{};for(var t in r)m[t]=r[t];var a={},n=0,s="";if(m.xmlns&&e.namespaceURI&&(a[m.namespaceKey]=e.namespaceURI),e.attributes&&0<e.attributes.length){for(var l={};n<e.attributes.length;n++){var i=e.attributes.item(n);d={};var o="";o=m.stripAttrPrefix?i.name.replace(h,""):i.name,d=m.grokAttr?this.grokType(i.value.replace(f,"")):i.value.replace(f,""),m.xmlns&&i.namespaceURI&&(d[m.namespaceKey]=i.namespaceURI),m.attrsAsObject?l[o]=d:a[m.attrKey+o]=d}m.attrsAsObject&&(a[m.attrKey]=l)}if(e.hasChildNodes())for(var c,u,d,p=0;p<e.childNodes.length;p++)4===(c=e.childNodes.item(p)).nodeType?m.mergeCDATA?s+=c.nodeValue:a.hasOwnProperty(m.cdataKey)?(a[m.cdataKey].constructor!==Array&&(a[m.cdataKey]=[a[m.cdataKey]]),a[m.cdataKey].push(c.nodeValue)):m.childrenAsArray?(a[m.cdataKey]=[],a[m.cdataKey].push(c.nodeValue)):a[m.cdataKey]=c.nodeValue:3===c.nodeType?s+=c.nodeValue:1===c.nodeType&&(0===n&&(a={}),u=m.stripElemPrefix?c.nodeName.replace(h,""):c.nodeName,d=xmlToJSON.parseXML(c),a.hasOwnProperty(u)?(a[u].constructor!==Array&&(a[u]=[a[u]]),a[u].push(d)):(m.childrenAsArray?(a[u]=[],a[u].push(d)):a[u]=d,n++));else s||m.childrenAsArray&&(a[m.textKey]=[],a[m.textKey].push(null));if(s)if(m.grokText){var y=this.grokType(s.replace(f,""));null!==y&&y!==undefined&&""!=y&&(a=y)}else a=m.normalize?s.replace(f,"").replace(/\s+/g," "):s.replace(f,"");return a},this.xmlToString=function(e){try{return e.xml?e.xml:(new XMLSerializer).serializeToString(e)}catch(r){return null}},this.stringToXML=function(e){try{var r=null;return window.DOMParser?r=(new DOMParser).parseFromString(e,"text/xml"):((r=new ActiveXObject("Microsoft.XMLDOM")).async=!1,r.loadXML(e),r)}catch(t){return null}},this}.call({});"undefined"!=typeof module&&null!==module&&module.exports?module.exports=xmlToJSON:"function"==typeof define&&define.amd&&define(function(){return xmlToJSON});